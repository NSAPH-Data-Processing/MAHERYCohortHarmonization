<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>MAHERY Cohort Harmonization • MAHERYCohortHarmonization</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="MAHERY Cohort Harmonization">
<meta name="description" content="This package establishes a pipeline that harmonizes the MAHERY cohort data across disparate sources and produces a dataset that defines the MAHERY Cohort for future studies.">
<meta property="og:description" content="This package establishes a pipeline that harmonizes the MAHERY cohort data across disparate sources and produces a dataset that defines the MAHERY Cohort for future studies.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">MAHERYCohortHarmonization</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/get-started.html">Get started</a></li>
    <li><a class="dropdown-item" href="articles/opensrp-cohort-2018-preprocessing.html">OpenSRP Cohort 2018 Preprocessing</a></li>
    <li><a class="dropdown-item" href="articles/OutputTables.html">Pipeline Outputs</a></li>
    <li><a class="dropdown-item" href="articles/preprocessing-2018-health-status.html">Preprocessing 2018 Health Status</a></li>
    <li><a class="dropdown-item" href="articles/preprocessing-2018-household-heads.html">Preprocessing 2018 Household Heads</a></li>
    <li><a class="dropdown-item" href="articles/reporting-with-pins-and-google-drive.html">Reporting with pins and Google Drive</a></li>
    <li><a class="dropdown-item" href="articles/tracking-input-data.html">Tracking Input Data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="maherycohortharmonization">MAHERYCohortHarmonization<a class="anchor" aria-label="anchor" href="#maherycohortharmonization"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>The Madagascar Health and Environmental Research (MAHERY) cohort datasets provide a detailed and interdisciplinary understanding of the relationships between environmental changes, resource use, and human health in Madagascar. These datasets encompass multiple research initiatives, including the Northeast, Antongil, HIARA, and cross-sectional studies, each addressing unique aspects of health and environmental interactions.</p>
<ul>
<li><p><strong>Northeast Dataset</strong>: This dataset focuses on communities near Maroantsetra in northeastern Madagascar, where local populations heavily rely on wild foods for nutrition. The study examines the impact of deforestation, biodiversity loss, and hunting on dietary intake, nutritional status, and health outcomes. It includes data on dietary diversity, disease metrics, and environmental resource use[2][3].</p></li>
<li><p><strong>Antongil Dataset</strong>: Established in 2015 along Antongil Bay, this dataset evaluates the nutritional value of seafood and the effects of different fisheries governance models—traditional management, co-management, and marine national parks—on fish catch, seafood consumption, and nutritional outcomes. It includes data from 225 households across five communities[4].</p></li>
<li><p><strong>HIARA Dataset</strong>: Initiated in 2022 in southwestern Madagascar’s Bay of Ranobe, this study investigates the impacts of artificial coral reef development on fish biomass, fisher livelihoods, nutrition, and mental health. It involves longitudinal monitoring of ecological and social systems across 14 communities[1].</p></li>
<li><p><strong>Cross-Sectional Studies</strong>: These studies provide snapshots of dietary patterns, nutritional status, and socio-economic indicators across various regions. They complement the longitudinal datasets by offering broader demographic insights[2][5].</p></li>
</ul>
<p>Together, these datasets form a comprehensive resource for understanding how environmental changes influence health outcomes in vulnerable populations.</p>
<p>Sources [1] HIARA study protocol: impacts of artificial coral reef development on … <a href="https://www.frontiersin.org/journals/public-health/articles/10.3389/fpubh.2024.1366110/full" class="external-link uri">https://www.frontiersin.org/journals/public-health/articles/10.3389/fpubh.2024.1366110/full</a> [2] Cohort Profile: The Madagascar Health and Environmental … <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC5837654/" class="external-link uri">https://pmc.ncbi.nlm.nih.gov/articles/PMC5837654/</a> [3] Seasonal trends of nutrient intake in rainforest communities of north … <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC10260550/" class="external-link uri">https://pmc.ncbi.nlm.nih.gov/articles/PMC10260550/</a> [4] Cohort Description of the Madagascar Health and Environmental … <a href="https://www.frontiersin.org/journals/nutrition/articles/10.3389/fnut.2019.00109/full" class="external-link uri">https://www.frontiersin.org/journals/nutrition/articles/10.3389/fnut.2019.00109/full</a> [5] Cohort Profile: The Madagascar Health and Environmental … <a href="https://academic.oup.com/ije/article/46/6/1747/3868352" class="external-link uri">https://academic.oup.com/ije/article/46/6/1747/3868352</a> [6] The Madagascar Health and Environmental Research (MAHERY … <a href="https://pubmed.ncbi.nlm.nih.gov/29040632/" class="external-link uri">https://pubmed.ncbi.nlm.nih.gov/29040632/</a> [7] Integrating approaches to study land use change and hotspots of … <a href="https://www.thelancet.com/journals/lanplh/article/PIIS2542-5196(18)30104-9/fulltext" class="external-link uri">https://www.thelancet.com/journals/lanplh/article/PIIS2542-5196(18)30104-9/fulltext</a> [8] Madagascar - MAHAY Study 2016, Endline - Microdata Library <a href="https://microdata.worldbank.org/index.php/catalog/study/MDG_2016_MAHAY-EL_v01_M" class="external-link uri">https://microdata.worldbank.org/index.php/catalog/study/MDG_2016_MAHAY-EL_v01_M</a> [9] Summary of the PERMANOVA to examine the influence … - Figshare <a href="https://figshare.com/articles/dataset/Summary_of_the_PERMANOVA_to_examine_the_influence_of_explanatory_variables_in_the_variation_of_composition_of_coral_assemblages_/21375118" class="external-link uri">https://figshare.com/articles/dataset/Summary_of_the_PERMANOVA_to_examine_the_influence_of_explanatory_variables_in_the_variation_of_composition_of_coral_assemblages_/21375118</a></p>
<p>This package establishes a pipeline that harmonizes the MAHERY cohort data across disparate sources and produces a dataset that defines the MAHERY Cohort for future studies.</p>
<div class="section level2">
<h2 id="approach">Approach<a class="anchor" aria-label="anchor" href="#approach"></a>
</h2>
<p>We will use the following steps to harmonize the MAHERY cohort data:</p>
<ol style="list-style-type: decimal">
<li>A comprehensive review of the MAHERY cohort datasets to identify common variables and data structures.</li>
<li>Secure identification and procurement of google drive credentials and locations (URLS) of each dataset.</li>
<li>Data extraction and cleaning to ensure consistency and compatibility across datasets.</li>
<li>Data integration to merge the datasets into a single, harmonized dataset.</li>
<li>Data validation to ensure the harmonized dataset is accurate and reliable.</li>
<li>Data export to save the harmonized dataset for future studies.</li>
</ol>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of MAHERYCohortHarmonization like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># FILL THIS IN! HOW CAN PEOPLE INSTALL YOUR DEV PACKAGE?</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="pipeline">Pipeline<a class="anchor" aria-label="anchor" href="#pipeline"></a>
</h2>
<p>The pipeline is managed by <code>targets</code>, which is a powerful R package for reproducible data analysis. It allows you to define a series of steps (or targets) that will be executed in order, ensuring that your analysis is reproducible and efficient. The pipeline is deefined in the <code>_targets.R</code> file. The functions we create to build this pipeline are defined in the notebooks in the <code>dev/</code> directory, and exported to the <code>R</code> directory using <code>fusen</code>.</p>
<p>You can run the pipeline using the following command:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/targets/" class="external-link">targets</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://docs.ropensci.org/targets/reference/tar_make.html" class="external-link">tar_make</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Here is the current state of the pipeline:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/targets/" class="external-link">targets</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rich-iannone.github.io/DiagrammeR/" class="external-link">DiagrammeR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rich-iannone/DiagrammeRsvg" class="external-link">DiagrammeRsvg</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/rsvg/" class="external-link">rsvg</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Linking to librsvg 2.42.7</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="va">network</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/targets/reference/tar_network.html" class="external-link">tar_network</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; -\|/-\|/-\|/-\|/-\|/-\- The project is out-of-sync -- use `renv::status()` for details.</span></span>
<span><span class="co">#&gt; |/-\|/-\|/-  checked: 1 | outdated: 0\  checked: 13 | outdated: 0</span></span>
<span><span class="co">#&gt; |/ </span></span>
<span></span>
<span><span class="co"># Optional: filter out internal targets like `.Random.seed`</span></span>
<span><span class="va">vertices</span> <span class="op">&lt;-</span> <span class="va">network</span><span class="op">$</span><span class="va">vertices</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"^\\."</span>, <span class="va">name</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Build node declarations</span></span>
<span><span class="va">node_lines</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">'  "%s";'</span>, <span class="va">vertices</span><span class="op">$</span><span class="va">name</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter edges to match cleaned nodes</span></span>
<span><span class="va">edges</span> <span class="op">&lt;-</span> <span class="va">network</span><span class="op">$</span><span class="va">edges</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">from</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">vertices</span><span class="op">$</span><span class="va">name</span>, <span class="va">to</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">vertices</span><span class="op">$</span><span class="va">name</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Build edge connections</span></span>
<span><span class="va">edge_lines</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">'  "%s" -&gt; "%s";'</span>, <span class="va">edges</span><span class="op">$</span><span class="va">from</span>, <span class="va">edges</span><span class="op">$</span><span class="va">to</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Assemble DOT graph string</span></span>
<span><span class="va">dot_code</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"digraph targets_pipeline {"</span>, <span class="va">node_lines</span>, <span class="va">edge_lines</span>, <span class="st">"}"</span><span class="op">)</span></span>
<span><span class="va">dot_string</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">dot_code</span>, collapse <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create grViz graph</span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rich-iannone.github.io/DiagrammeR/reference/grViz.html" class="external-link">grViz</a></span><span class="op">(</span><span class="va">dot_string</span><span class="op">)</span></span>
<span></span>
<span><span class="va">svg_path</span> <span class="op">&lt;-</span> <span class="st">"man/figures/pipeline_dag.svg"</span></span>
<span><span class="va">svg_string</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/DiagrammeRsvg/man/export_svg.html" class="external-link">export_svg</a></span><span class="op">(</span><span class="va">graph</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/writeLines.html" class="external-link">writeLines</a></span><span class="op">(</span><span class="va">svg_string</span>, <span class="va">svg_path</span><span class="op">)</span></span></code></pre></div>
<figure><img src="reference/figures/pipeline_dag.svg" alt="Pipeline Graph"><figcaption aria-hidden="true">
Pipeline Graph
</figcaption></figure>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing MAHERYCohortHarmonization</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Tinashe Tapera <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0000-0000-0000" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tinashe Tapera.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
